        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>DomImplStandard class / dart_web_toolkit_event Library / API Reference / Dart Web Toolkit</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40672112-1']);
  _gaq.push(['_setDomainName', 'dartwebtoolkit.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
        <body data-library="dart_web_toolkit_event" data-type="DomImplStandard">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">API Reference 0.3.18+1</a>
         &rsaquo; <a href="../dart_web_toolkit_event.html">dart_web_toolkit_event</a> &rsaquo; <a href="../dart_web_toolkit_event/DomImplStandard.html">DomImplStandard</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>DomImplStandard</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class DomImplStandard extends DomImpl {

 Map&lt;dart_html.Element, EventListener&gt; _listener = new Map&lt;dart_html.Element, EventListener&gt;();

 DomImplStandard();

 dart_html.Element captureElem;

 static Function dispatchCapturedEvent;

 static Function dispatchCapturedMouseEvent;

 static Function dispatchDragEvent;

 static Function dispatchEvent;

 static Function dispatchUnhandledEvent;

 //*************************
 // Parent - child relations
 //*************************

 bool isOrHasChild(dart_html.Node parent, dart_html.Node child) {
   return parent.contains(child);
 }

 void insertChild(dart_html.Element parent, dart_html.Element toAdd, int index) {
   int count = 0;
   dart_html.Node child = parent.firstChild;
   dart_html.Node before;
   while (child != null) {
     if (child.nodeType == 1) { // dart_html.Node.ELEMENT_NODE
       if (count == index) {
         before = child;
         break;
       }
       ++count;
     }
     child = child.nextNode; //nextSibling;
   }

   if (before == null) {
     parent.append(toAdd);
   } else {
     parent.insertBefore(toAdd, before);
   }
 }

 dart_html.Element getChild(dart_html.Element elem, int index) {
   int count = 0;
   dart_html.Element child = elem.$dom_firstElementChild;
   while (child != null) {
     if (child.nodeType == 1) {
       if (index == count)
         return child;
       ++count;
     }
     child = child.nextElementSibling;
   }

   return null;
 }

 int getChildCount(dart_html.Element elem) {
   int count = 0;
   dart_html.Element child = elem.$dom_firstElementChild;
   while (child != null) {
     if (child.nodeType == 1)
       ++count;
     child = child.nextElementSibling;
   }
   return count;
 }

 //********************
 // Position of Element
 //********************

 int getAbsoluteLeft(dart_html.Element elem) {
   var left = 0;
   dart_html.Element curr = elem;
   // This intentionally excludes body which has a null offsetParent.
   while (curr.offsetParent != null) {
     left -= curr.scrollLeft;
     curr = curr.parent;
   }
   while (elem != null) {
     left += elem.offset.left;
     elem = elem.offsetParent;
   }
   return left;
 }

 int getAbsoluteTop(dart_html.Element elem) {
   var top = 0;
   dart_html.Element curr = elem;
   // This intentionally excludes body which has a null offsetParent.
   while (curr.offsetParent != null) {
     top -= curr.scrollTop;
     curr = curr.parentNode;
   }
   while (elem != null) {
     top += elem.offset.top;
     elem = elem.offsetParent;
   }
   return top;
 }

 //*********
 // Capturte
 //*********

 void releaseCapture(dart_html.Element elem) {
   maybeInitializeEventSystem();
   _releaseCaptureImpl(elem);
 }

 void _releaseCaptureImpl(dart_html.Element elem) {
   if (elem == captureElem) {
     captureElem = null;
   }
 }

 void setCapture(dart_html.Element elem) {
   maybeInitializeEventSystem();
   _setCaptureImpl(elem);
 }

 void _setCaptureImpl(dart_html.Element elem) {
   captureElem = elem;
 }

 //******
 // Style
 //******
 
 String getStyleProperty(dart_html.Element elem, String name) {
   dart_html.CssStyleDeclaration style = elem.style;
   return style.getPropertyValue(name); 
 }
 
 void setStyleProperty(dart_html.Element elem, String name, String value) {
   dart_html.CssStyleDeclaration style = elem.style;
   style.setProperty(name, value, "");
 }
 
 //*******
 // Events
 //*******

 /**
  * Initializes the event dispatch system.
  */
 void initEventSystem() {
   dispatchCapturedEvent = (dart_html.Event evt) {
     if (!Dom.previewEvent(evt)) {
       evt.stopPropagation();
       evt.preventDefault();
       return false;
     }
     return true;
   };

   dispatchEvent = (dart_html.Event event) {
     EventListener listener;
     dart_html.Node curElem = event.currentTarget as dart_html.Node;

     while (curElem != null &amp;&amp; (listener = _listener[curElem]) == null) {
       curElem = curElem.parentNode;
     }

     if (curElem != null &amp;&amp; curElem.nodeType != 1) { // dart_html.Node.ELEMENT_NODE
       curElem = null;
     }

     if (listener != null) {
       Dom.dispatchEvent(event, curElem, listener);
     }
   };

   // Some drag events must call preventDefault to prevent native text selection.
   dispatchDragEvent = (dart_html.Event evt) {
     evt.preventDefault();
     dispatchEvent(evt);
   };

   dispatchUnhandledEvent = (dart_html.Event evt) {
     if (evt.target is dart_html.ImageElement) {
       (evt.target as dart_html.ImageElement).dataset[DomImpl.UNHANDLED_EVENT_ATTR] = evt.type;
     }
     dispatchEvent(evt);
   };

   dispatchCapturedMouseEvent = (dart_html.Event evt) {
     Function dispatchCapturedEventFn = dispatchCapturedEvent;
     if (dispatchCapturedEventFn(evt)) {
       dart_html.Element cap = captureElem;
       if (cap != null &amp;&amp; _listener[cap] != null) {
         Dom.dispatchEvent(evt, cap, _listener[cap]);
         evt.stopPropagation();
       }
     }
   };

   //dart_html.window.onClick.listen(dispatchCapturedMouseEvent, true);
   dart_html.Element.clickEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.doubleClickEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.mouseDownEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.mouseUpEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.mouseMoveEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.mouseOverEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.mouseOutEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.mouseWheelEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.keyDownEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedEvent);
   dart_html.Element.keyUpEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedEvent);
   dart_html.Element.keyPressEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedEvent);

   // Touch and gesture events are not actually mouse events, but we treat
   // them as such, so that DOM#setCapture() and DOM#releaseCapture() work.
   dart_html.Element.touchStartEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.touchMoveEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.touchEndEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
   dart_html.Element.touchCancelEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
//    dart_html.window.on.gesturestart.add(dispatchCapturedMouseEvent, true);
//    dart_html.window.on.gesturechange.add(dispatchCapturedMouseEvent, true);
//    dart_html.window.on.gesturechange.add(dispatchCapturedMouseEvent, true);
 }

 EventListener getEventListener(dart_html.Element elem) {
   //return elem.__listener;
   return _listener.containsKey(elem) ? _listener[elem] : null;
 }
 void setEventListener(dart_html.Element elem, EventListener listener) {
   //elem.__listener = listener;
   _listener[elem] = listener;
 }

 void sinkBitlessEvent(dart_html.Element elem, String eventTypeName) {
   maybeInitializeEventSystem();
   _sinkBitlessEventImpl(elem, eventTypeName);
 }

 void _sinkBitlessEventImpl(dart_html.Element elem, String eventTypeName) {
   switch(eventTypeName) {
     case "drag": elem.onDrag.listen(dispatchEvent); break;
     case "dragend": elem.onDragEnd.listen(dispatchEvent); break;
     case "dragleave": elem.onDragLeave.listen(dispatchEvent); break;
     case "dragstart": elem.onDragStart.listen(dispatchEvent); break;
     case "drop": elem.onDrop.listen(dispatchEvent); break;

     case "dragenter": elem.onDragEnter.listen(dispatchDragEvent); break;
     case "dragover": elem.onDragOver.listen(dispatchDragEvent); break;

     case "canplaythrough": dart_html.MediaElement.canPlayThroughEvent.forTarget(elem).listen(dispatchEvent); break;
     case "ended": dart_html.MediaElement.endedEvent.forTarget(elem).listen(dispatchEvent); break;
     case "progress": dart_html.MediaElement.progressEvent.forTarget(elem).listen(dispatchEvent); break;
       // First call removeEventListener, so as not to add the same event listener more than once
//        elem.on[eventTypeName].remove(dispatchEvent);
//        elem.on[eventTypeName].add(dispatchEvent);
//        break;
     default:
       // catch missing cases
       throw new Exception("Trying to sink unknown event type $eventTypeName");
   }
 }

 void sinkEvents(dart_html.Element elem, int bits) {
   maybeInitializeEventSystem();
   sinkEventsImpl(elem, bits);
 }

 Map&lt;String, dart_async.StreamSubscription&gt; _subscription = new Map&lt;String, dart_async.StreamSubscription&gt;();

 void sinkEventsImpl(dart_html.Element elem, int bits) {
   int chMask = _getEventBits(elem) ^ bits;
   if (chMask == 0) {
     return;
   }
   _setEventBits(elem, chMask);
   //
   _applyDispatcher(elem, dart_html.Element.clickEvent,  bits, chMask, "click",   0x00001, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.doubleClickEvent, bits, chMask, "dblclick", 0x00002, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.mouseDownEvent, bits, chMask, "mousedown", 0x00004, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.mouseUpEvent, bits, chMask, "mouseup", 0x00008, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.mouseOverEvent, bits, chMask, "mouseover", 0x00010, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.mouseOutEvent, bits, chMask, "mouseout", 0x00020, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.mouseMoveEvent, bits, chMask, "mousemove", 0x00040, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.keyDownEvent, bits, chMask, "keydown", 0x00080, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.keyPressEvent, bits, chMask, "keypress", 0x00100, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.keyUpEvent, bits, chMask, "keyup", 0x00200, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.changeEvent, bits, chMask, "change", 0x00400, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.focusEvent, bits, chMask, "focus", 0x00800, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.blurEvent, bits, chMask, "blur", 0x01000, dispatchEvent);
   //_applyDispatcher(elem, bits, chMask, "losecapture", 0x02000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.scrollEvent, bits, chMask, "scroll", 0x04000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.loadEvent, bits, chMask, "load", 0x08000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.errorEvent, bits, chMask, "error", 0x10000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.mouseWheelEvent, bits, chMask, "mousewheel", 0x20000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.contextMenuEvent, bits, chMask, "contextmenu", 0x40000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.pasteEvent, bits, chMask, "paste", 0x80000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.touchStartEvent, bits, chMask, "touchstart", 0x100000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.touchMoveEvent, bits, chMask, "touchmove", 0x200000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.touchEndEvent, bits, chMask, "touchend", 0x400000, dispatchEvent);
   _applyDispatcher(elem, dart_html.Element.touchCancelEvent, bits, chMask, "touchcancel", 0x800000, dispatchEvent);
//    _applyDispatcher(elem, bits, chMask, "gesturestart", 0x1000000, dispatchEvent);
//    _applyDispatcher(elem, bits, chMask, "gesturechange", 0x2000000, dispatchEvent);
//    _applyDispatcher(elem, bits, chMask, "gestureend", 0x4000000, dispatchEvent);
 }

 void _applyDispatcher(dart_html.Element elem, dart_html.EventStreamProvider provider, int bits, int chMask, String eventName, int mask, dart_html.EventListener handler, [bool useCapture = false]) {
   if ((chMask &amp; 0x00001) != 0) {
     if ((bits &amp; 0x00001) != 0) {
       _subscription["click"] = provider.forTarget(elem, useCapture:useCapture).listen(dispatchEvent);
     } else {
       _subscription["click"].cancel();
     }
   }

 }

 dart_html.Element eventGetToElement(dart_html.Event evt) {
   if (evt.type == BrowserEvents.MOUSEOVER) {
     return evt.target as dart_html.Element;
   }

   if (evt.type == BrowserEvents.MOUSEOUT) {
     return (evt as dart_html.MouseEvent).relatedTarget as dart_html.Element;
   }

   return null;
 }

 dart_html.Event createHtmlEvent(String type, bool canBubble, bool cancelable) {
   dart_html.CustomEvent evt = new dart_html.CustomEvent('HTMLEvents');
   evt.$dom_initCustomEvent(type, canBubble, cancelable, null);

   return evt;
 }
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_event/DomImpl.html">DomImpl</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>DomImplStandard</strong></span></p>
<div>
<h3>Static Properties</h3>
<div class="field"><h4 id="dispatchCapturedEvent">
<button class="show-code">Code</button>
Function         <strong>dispatchCapturedEvent</strong> <a class="anchor-link"
            href="#dispatchCapturedEvent"
            title="Permalink to DomImplStandard.dispatchCapturedEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static Function dispatchCapturedEvent
</pre>
</div>
</div>
<div class="field"><h4 id="dispatchCapturedMouseEvent">
<button class="show-code">Code</button>
Function         <strong>dispatchCapturedMouseEvent</strong> <a class="anchor-link"
            href="#dispatchCapturedMouseEvent"
            title="Permalink to DomImplStandard.dispatchCapturedMouseEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static Function dispatchCapturedMouseEvent
</pre>
</div>
</div>
<div class="field"><h4 id="dispatchDragEvent">
<button class="show-code">Code</button>
Function         <strong>dispatchDragEvent</strong> <a class="anchor-link"
            href="#dispatchDragEvent"
            title="Permalink to DomImplStandard.dispatchDragEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static Function dispatchDragEvent
</pre>
</div>
</div>
<div class="field"><h4 id="dispatchEvent">
<button class="show-code">Code</button>
Function         <strong>dispatchEvent</strong> <a class="anchor-link"
            href="#dispatchEvent"
            title="Permalink to DomImplStandard.dispatchEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static Function dispatchEvent
</pre>
</div>
</div>
<div class="field"><h4 id="dispatchUnhandledEvent">
<button class="show-code">Code</button>
Function         <strong>dispatchUnhandledEvent</strong> <a class="anchor-link"
            href="#dispatchUnhandledEvent"
            title="Permalink to DomImplStandard.dispatchUnhandledEvent">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static Function dispatchUnhandledEvent
</pre>
</div>
</div>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
new <strong>DomImplStandard</strong>() <a class="anchor-link" href="#"
              title="Permalink to DomImplStandard.DomImplStandard">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Creates a new <a class="crossref" href="../dart_core/Object.html">Object</a> instance.</p>
<p><a class="crossref" href="../dart_core/Object.html">Object</a> instances have no meaningful state, and are only useful
through their identity. An <a class="crossref" href="../dart_core/Object.html">Object</a> instance is equal to itself
only.</p>
<div class="docs-inherited-from">docs inherited from Object </div></div>
<pre class="source">
DomImplStandard();
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="captureElem">
<button class="show-code">Code</button>
Element         <strong>captureElem</strong> <a class="anchor-link"
            href="#captureElem"
            title="Permalink to DomImplStandard.captureElem">#</a>
        </h4>
        <div class="doc">
<pre class="source">
dart_html.Element captureElem
</pre>
</div>
</div>
<div class="field inherited"><h4 id="cssFloatPropertyName">
<button class="show-code">Code</button>
final String         <strong>cssFloatPropertyName</strong> <a class="anchor-link"
            href="#cssFloatPropertyName"
            title="Permalink to DomImplStandard.cssFloatPropertyName">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../dart_web_toolkit_event/DomImpl.html">DomImpl</a> </div><div class="doc">
<pre class="source">
String get cssFloatPropertyName {
 return "cssFloat";
}
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="createHtmlEvent">
<button class="show-code">Code</button>
Event <strong>createHtmlEvent</strong>(String type, bool canBubble, bool cancelable) <a class="anchor-link" href="#createHtmlEvent"
              title="Permalink to DomImplStandard.createHtmlEvent">#</a></h4>
<div class="doc">
<pre class="source">
dart_html.Event createHtmlEvent(String type, bool canBubble, bool cancelable) {
 dart_html.CustomEvent evt = new dart_html.CustomEvent('HTMLEvents');
 evt.$dom_initCustomEvent(type, canBubble, cancelable, null);

 return evt;
}
</pre>
</div>
</div>
<div class="method"><h4 id="eventGetToElement">
<button class="show-code">Code</button>
Element <strong>eventGetToElement</strong>(Event evt) <a class="anchor-link" href="#eventGetToElement"
              title="Permalink to DomImplStandard.eventGetToElement">#</a></h4>
<div class="doc">
<pre class="source">
dart_html.Element eventGetToElement(dart_html.Event evt) {
 if (evt.type == BrowserEvents.MOUSEOVER) {
   return evt.target as dart_html.Element;
 }

 if (evt.type == BrowserEvents.MOUSEOUT) {
   return (evt as dart_html.MouseEvent).relatedTarget as dart_html.Element;
 }

 return null;
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="eventGetTypeInt">
<button class="show-code">Code</button>
int <strong>eventGetTypeInt</strong>(String eventType) <a class="anchor-link" href="#eventGetTypeInt"
              title="Permalink to DomImplStandard.eventGetTypeInt">#</a></h4>
<div class="inherited-from">inherited from <a href="../dart_web_toolkit_event/DomImpl.html">DomImpl</a> </div><div class="doc">
<pre class="source">
int eventGetTypeInt(String eventType) {
 switch (eventType) {
   case "blur": return 0x01000;
   case "change": return 0x00400;
   case "click": return 0x00001;
   case "dblclick": return 0x00002;
   case "focus": return 0x00800;
   case "keydown": return 0x00080;
   case "keypress": return 0x00100;
   case "keyup": return 0x00200;
   case "load": return 0x08000;
   case "losecapture": return 0x02000;
   case "mousedown": return 0x00004;
   case "mousemove": return 0x00040;
   case "mouseout": return 0x00020;
   case "mouseover": return 0x00010;
   case "mouseup": return 0x00008;
   case "scroll": return 0x04000;
   case "error": return 0x10000;
   case "mousewheel": return 0x20000;
   case "DOMMouseScroll": return 0x20000;
   case "contextmenu": return 0x40000;
   case "paste": return 0x80000;
   case "touchstart": return 0x100000;
   case "touchmove": return 0x200000;
   case "touchend": return 0x400000;
   case "touchcancel": return 0x800000;
//      case "gesturestart": return 0x1000000;
//      case "gesturechange": return 0x2000000;
//      case "gestureend": return 0x4000000;
   default: return -1;
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="getAbsoluteLeft">
<button class="show-code">Code</button>
int <strong>getAbsoluteLeft</strong>(Element elem) <a class="anchor-link" href="#getAbsoluteLeft"
              title="Permalink to DomImplStandard.getAbsoluteLeft">#</a></h4>
<div class="doc">
<pre class="source">
int getAbsoluteLeft(dart_html.Element elem) {
 var left = 0;
 dart_html.Element curr = elem;
 // This intentionally excludes body which has a null offsetParent.
 while (curr.offsetParent != null) {
   left -= curr.scrollLeft;
   curr = curr.parent;
 }
 while (elem != null) {
   left += elem.offset.left;
   elem = elem.offsetParent;
 }
 return left;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getAbsoluteTop">
<button class="show-code">Code</button>
int <strong>getAbsoluteTop</strong>(Element elem) <a class="anchor-link" href="#getAbsoluteTop"
              title="Permalink to DomImplStandard.getAbsoluteTop">#</a></h4>
<div class="doc">
<pre class="source">
int getAbsoluteTop(dart_html.Element elem) {
 var top = 0;
 dart_html.Element curr = elem;
 // This intentionally excludes body which has a null offsetParent.
 while (curr.offsetParent != null) {
   top -= curr.scrollTop;
   curr = curr.parentNode;
 }
 while (elem != null) {
   top += elem.offset.top;
   elem = elem.offsetParent;
 }
 return top;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getChild">
<button class="show-code">Code</button>
Element <strong>getChild</strong>(Element elem, int index) <a class="anchor-link" href="#getChild"
              title="Permalink to DomImplStandard.getChild">#</a></h4>
<div class="doc">
<pre class="source">
dart_html.Element getChild(dart_html.Element elem, int index) {
 int count = 0;
 dart_html.Element child = elem.$dom_firstElementChild;
 while (child != null) {
   if (child.nodeType == 1) {
     if (index == count)
       return child;
     ++count;
   }
   child = child.nextElementSibling;
 }

 return null;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getChildCount">
<button class="show-code">Code</button>
int <strong>getChildCount</strong>(Element elem) <a class="anchor-link" href="#getChildCount"
              title="Permalink to DomImplStandard.getChildCount">#</a></h4>
<div class="doc">
<pre class="source">
int getChildCount(dart_html.Element elem) {
 int count = 0;
 dart_html.Element child = elem.$dom_firstElementChild;
 while (child != null) {
   if (child.nodeType == 1)
     ++count;
   child = child.nextElementSibling;
 }
 return count;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getEventListener">
<button class="show-code">Code</button>
<a href="../dart_web_toolkit_event/EventListener.html">EventListener</a> <strong>getEventListener</strong>(Element elem) <a class="anchor-link" href="#getEventListener"
              title="Permalink to DomImplStandard.getEventListener">#</a></h4>
<div class="doc">
<pre class="source">
EventListener getEventListener(dart_html.Element elem) {
 //return elem.__listener;
 return _listener.containsKey(elem) ? _listener[elem] : null;
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="getEventsSunk">
<button class="show-code">Code</button>
int <strong>getEventsSunk</strong>(Element elem) <a class="anchor-link" href="#getEventsSunk"
              title="Permalink to DomImplStandard.getEventsSunk">#</a></h4>
<div class="inherited-from">inherited from <a href="../dart_web_toolkit_event/DomImpl.html">DomImpl</a> </div><div class="doc">
<pre class="source">
int getEventsSunk(dart_html.Element elem) {
 return _getEventBits(elem);
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="getEventTypeInt">
<button class="show-code">Code</button>
int <strong>getEventTypeInt</strong>(Event evt) <a class="anchor-link" href="#getEventTypeInt"
              title="Permalink to DomImplStandard.getEventTypeInt">#</a></h4>
<div class="inherited-from">inherited from <a href="../dart_web_toolkit_event/DomImpl.html">DomImpl</a> </div><div class="doc">
<pre class="source">
int getEventTypeInt(dart_html.Event evt) {
 return eventGetTypeInt(evt.type);
}
</pre>
</div>
</div>
<div class="method"><h4 id="getStyleProperty">
<button class="show-code">Code</button>
String <strong>getStyleProperty</strong>(Element elem, String name) <a class="anchor-link" href="#getStyleProperty"
              title="Permalink to DomImplStandard.getStyleProperty">#</a></h4>
<div class="doc">
<pre class="source">
String getStyleProperty(dart_html.Element elem, String name) {
 dart_html.CssStyleDeclaration style = elem.style;
 return style.getPropertyValue(name); 
}
</pre>
</div>
</div>
<div class="method"><h4 id="initEventSystem">
<button class="show-code">Code</button>
void <strong>initEventSystem</strong>() <a class="anchor-link" href="#initEventSystem"
              title="Permalink to DomImplStandard.initEventSystem">#</a></h4>
<div class="doc">
<p>Initializes the event dispatch system.</p>
<pre class="source">
void initEventSystem() {
 dispatchCapturedEvent = (dart_html.Event evt) {
   if (!Dom.previewEvent(evt)) {
     evt.stopPropagation();
     evt.preventDefault();
     return false;
   }
   return true;
 };

 dispatchEvent = (dart_html.Event event) {
   EventListener listener;
   dart_html.Node curElem = event.currentTarget as dart_html.Node;

   while (curElem != null &amp;&amp; (listener = _listener[curElem]) == null) {
     curElem = curElem.parentNode;
   }

   if (curElem != null &amp;&amp; curElem.nodeType != 1) { // dart_html.Node.ELEMENT_NODE
     curElem = null;
   }

   if (listener != null) {
     Dom.dispatchEvent(event, curElem, listener);
   }
 };

 // Some drag events must call preventDefault to prevent native text selection.
 dispatchDragEvent = (dart_html.Event evt) {
   evt.preventDefault();
   dispatchEvent(evt);
 };

 dispatchUnhandledEvent = (dart_html.Event evt) {
   if (evt.target is dart_html.ImageElement) {
     (evt.target as dart_html.ImageElement).dataset[DomImpl.UNHANDLED_EVENT_ATTR] = evt.type;
   }
   dispatchEvent(evt);
 };

 dispatchCapturedMouseEvent = (dart_html.Event evt) {
   Function dispatchCapturedEventFn = dispatchCapturedEvent;
   if (dispatchCapturedEventFn(evt)) {
     dart_html.Element cap = captureElem;
     if (cap != null &amp;&amp; _listener[cap] != null) {
       Dom.dispatchEvent(evt, cap, _listener[cap]);
       evt.stopPropagation();
     }
   }
 };

 //dart_html.window.onClick.listen(dispatchCapturedMouseEvent, true);
 dart_html.Element.clickEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.doubleClickEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.mouseDownEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.mouseUpEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.mouseMoveEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.mouseOverEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.mouseOutEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.mouseWheelEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.keyDownEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedEvent);
 dart_html.Element.keyUpEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedEvent);
 dart_html.Element.keyPressEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedEvent);

 // Touch and gesture events are not actually mouse events, but we treat
 // them as such, so that DOM#setCapture() and DOM#releaseCapture() work.
 dart_html.Element.touchStartEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.touchMoveEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.touchEndEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
 dart_html.Element.touchCancelEvent.forTarget(dart_html.window, useCapture:true).listen(dispatchCapturedMouseEvent);
//    dart_html.window.on.gesturestart.add(dispatchCapturedMouseEvent, true);
//    dart_html.window.on.gesturechange.add(dispatchCapturedMouseEvent, true);
//    dart_html.window.on.gesturechange.add(dispatchCapturedMouseEvent, true);
}
</pre>
</div>
</div>
<div class="method"><h4 id="insertChild">
<button class="show-code">Code</button>
void <strong>insertChild</strong>(Element parent, Element toAdd, int index) <a class="anchor-link" href="#insertChild"
              title="Permalink to DomImplStandard.insertChild">#</a></h4>
<div class="doc">
<pre class="source">
void insertChild(dart_html.Element parent, dart_html.Element toAdd, int index) {
 int count = 0;
 dart_html.Node child = parent.firstChild;
 dart_html.Node before;
 while (child != null) {
   if (child.nodeType == 1) { // dart_html.Node.ELEMENT_NODE
     if (count == index) {
       before = child;
       break;
     }
     ++count;
   }
   child = child.nextNode; //nextSibling;
 }

 if (before == null) {
   parent.append(toAdd);
 } else {
   parent.insertBefore(toAdd, before);
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="isOrHasChild">
<button class="show-code">Code</button>
bool <strong>isOrHasChild</strong>(Node parent, Node child) <a class="anchor-link" href="#isOrHasChild"
              title="Permalink to DomImplStandard.isOrHasChild">#</a></h4>
<div class="doc">
<pre class="source">
bool isOrHasChild(dart_html.Node parent, dart_html.Node child) {
 return parent.contains(child);
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="maybeInitializeEventSystem">
<button class="show-code">Code</button>
void <strong>maybeInitializeEventSystem</strong>() <a class="anchor-link" href="#maybeInitializeEventSystem"
              title="Permalink to DomImplStandard.maybeInitializeEventSystem">#</a></h4>
<div class="inherited-from">inherited from <a href="../dart_web_toolkit_event/DomImpl.html">DomImpl</a> </div><div class="doc">
<pre class="source">
void maybeInitializeEventSystem() {
 if (!eventSystemIsInitialized) {
   initEventSystem();
   eventSystemIsInitialized = true;
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="releaseCapture">
<button class="show-code">Code</button>
void <strong>releaseCapture</strong>(Element elem) <a class="anchor-link" href="#releaseCapture"
              title="Permalink to DomImplStandard.releaseCapture">#</a></h4>
<div class="doc">
<pre class="source">
void releaseCapture(dart_html.Element elem) {
 maybeInitializeEventSystem();
 _releaseCaptureImpl(elem);
}
</pre>
</div>
</div>
<div class="method"><h4 id="setCapture">
<button class="show-code">Code</button>
void <strong>setCapture</strong>(Element elem) <a class="anchor-link" href="#setCapture"
              title="Permalink to DomImplStandard.setCapture">#</a></h4>
<div class="doc">
<pre class="source">
void setCapture(dart_html.Element elem) {
 maybeInitializeEventSystem();
 _setCaptureImpl(elem);
}
</pre>
</div>
</div>
<div class="method"><h4 id="setEventListener">
<button class="show-code">Code</button>
void <strong>setEventListener</strong>(Element elem, <a href="../dart_web_toolkit_event/EventListener.html">EventListener</a> listener) <a class="anchor-link" href="#setEventListener"
              title="Permalink to DomImplStandard.setEventListener">#</a></h4>
<div class="doc">
<pre class="source">
void setEventListener(dart_html.Element elem, EventListener listener) {
 //elem.__listener = listener;
 _listener[elem] = listener;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setStyleProperty">
<button class="show-code">Code</button>
void <strong>setStyleProperty</strong>(Element elem, String name, String value) <a class="anchor-link" href="#setStyleProperty"
              title="Permalink to DomImplStandard.setStyleProperty">#</a></h4>
<div class="doc">
<pre class="source">
void setStyleProperty(dart_html.Element elem, String name, String value) {
 dart_html.CssStyleDeclaration style = elem.style;
 style.setProperty(name, value, "");
}
</pre>
</div>
</div>
<div class="method"><h4 id="sinkBitlessEvent">
<button class="show-code">Code</button>
void <strong>sinkBitlessEvent</strong>(Element elem, String eventTypeName) <a class="anchor-link" href="#sinkBitlessEvent"
              title="Permalink to DomImplStandard.sinkBitlessEvent">#</a></h4>
<div class="doc">
<pre class="source">
void sinkBitlessEvent(dart_html.Element elem, String eventTypeName) {
 maybeInitializeEventSystem();
 _sinkBitlessEventImpl(elem, eventTypeName);
}
</pre>
</div>
</div>
<div class="method"><h4 id="sinkEvents">
<button class="show-code">Code</button>
void <strong>sinkEvents</strong>(Element elem, int bits) <a class="anchor-link" href="#sinkEvents"
              title="Permalink to DomImplStandard.sinkEvents">#</a></h4>
<div class="doc">
<pre class="source">
void sinkEvents(dart_html.Element elem, int bits) {
 maybeInitializeEventSystem();
 sinkEventsImpl(elem, bits);
}
</pre>
</div>
</div>
<div class="method"><h4 id="sinkEventsImpl">
<button class="show-code">Code</button>
void <strong>sinkEventsImpl</strong>(Element elem, int bits) <a class="anchor-link" href="#sinkEventsImpl"
              title="Permalink to DomImplStandard.sinkEventsImpl">#</a></h4>
<div class="doc">
<pre class="source">
void sinkEventsImpl(dart_html.Element elem, int bits) {
 int chMask = _getEventBits(elem) ^ bits;
 if (chMask == 0) {
   return;
 }
 _setEventBits(elem, chMask);
 //
 _applyDispatcher(elem, dart_html.Element.clickEvent,  bits, chMask, "click",   0x00001, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.doubleClickEvent, bits, chMask, "dblclick", 0x00002, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.mouseDownEvent, bits, chMask, "mousedown", 0x00004, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.mouseUpEvent, bits, chMask, "mouseup", 0x00008, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.mouseOverEvent, bits, chMask, "mouseover", 0x00010, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.mouseOutEvent, bits, chMask, "mouseout", 0x00020, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.mouseMoveEvent, bits, chMask, "mousemove", 0x00040, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.keyDownEvent, bits, chMask, "keydown", 0x00080, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.keyPressEvent, bits, chMask, "keypress", 0x00100, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.keyUpEvent, bits, chMask, "keyup", 0x00200, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.changeEvent, bits, chMask, "change", 0x00400, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.focusEvent, bits, chMask, "focus", 0x00800, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.blurEvent, bits, chMask, "blur", 0x01000, dispatchEvent);
 //_applyDispatcher(elem, bits, chMask, "losecapture", 0x02000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.scrollEvent, bits, chMask, "scroll", 0x04000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.loadEvent, bits, chMask, "load", 0x08000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.errorEvent, bits, chMask, "error", 0x10000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.mouseWheelEvent, bits, chMask, "mousewheel", 0x20000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.contextMenuEvent, bits, chMask, "contextmenu", 0x40000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.pasteEvent, bits, chMask, "paste", 0x80000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.touchStartEvent, bits, chMask, "touchstart", 0x100000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.touchMoveEvent, bits, chMask, "touchmove", 0x200000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.touchEndEvent, bits, chMask, "touchend", 0x400000, dispatchEvent);
 _applyDispatcher(elem, dart_html.Element.touchCancelEvent, bits, chMask, "touchcancel", 0x800000, dispatchEvent);
//    _applyDispatcher(elem, bits, chMask, "gesturestart", 0x1000000, dispatchEvent);
//    _applyDispatcher(elem, bits, chMask, "gesturechange", 0x2000000, dispatchEvent);
//    _applyDispatcher(elem, bits, chMask, "gestureend", 0x4000000, dispatchEvent);
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-07-25 09:06:37.407</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
