        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Constants abstract class / dart_web_toolkit_i18n Library / API Reference / Dart Web Toolkit</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40672112-1']);
  _gaq.push(['_setDomainName', 'dartwebtoolkit.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
        <body data-library="dart_web_toolkit_i18n" data-type="Constants">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">API Reference 0.3.21</a>
         &rsaquo; <a href="../dart_web_toolkit_i18n.html">dart_web_toolkit_i18n</a> &rsaquo; <a href="../dart_web_toolkit_i18n/Constants.html">Constants</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>Constants</strong>
          abstract class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>A tag interface that facilitates locale-sensitive, compile-time binding of
constant values supplied from properties files. Using
&lt;code>GWT.create(&lt;i>class&lt;/i>)&lt;/code> to "instantiate" an interface that
extends &lt;code>Constants&lt;/code> returns an instance of an automatically
generated subclass that is implemented using values from a property file
selected based on locale.</p><p>
Locale is specified at run time using a meta tag or query string as described
for {@link com.google.gwt.i18n.client.Localizable}.
</p><h3>Extending <code>Constants</code></h3>
To use <code>Constants</code>, begin by defining an interface that extends
it. Each interface method is referred to as a <i>constant accessor</i>, and
its corresponding localized value is loaded based on the key for that method.
The default key is simply the unqualified name of the method, but can be specified
directly with an {@code @Key} annotation or a different generation method using
{@code @GenerateKeys}.  Also, the default value can be specified in an annotation
rather than a default properties file (and some key generators may require the value
to be given in the source file via annotations). For example,
<p>{@example com.google.gwt.examples.i18n.NumberFormatConstants}</p>
<p>expects to find properties named &lt;code>decimalSeparator&lt;/code> and
&lt;code>thousandsSeparator&lt;/code> in an associated properties file. For
example, the following properties would be used for a German locale:</p>
<p>{@gwt.include com/google/gwt/examples/i18n/NumberFormatConstants<em>de</em>DE.properties}</p><p>
The following example demonstrates how to use constant accessors defined in
the interface above:
<p>{@example com.google.gwt.examples.i18n.NumberFormatConstantsExample#useNumberFormatConstants()}
&lt;/p></p><p>
Here is the same example using annotations to store the default values:
<p>{@example com.google.gwt.examples.i18n.NumberFormatConstantsAnnot}
&lt;/p></p><p>
It is also possible to change the property name bound to a constant accessor
using the {@code @Key} annotation. For example,
{@example com.google.gwt.examples.i18n.NumberFormatConstantsWithAltKey}
<p>would match the names of the following properties:</p>
<p>{@gwt.include com/google/gwt/examples/i18n/NumberFormatConstantsWithAltKey_en.properties}
&lt;/p></p><h3>Defining Constant Accessors</h3>
Constant accessors must be of the form<pre>T methodName()</pre>
<p>where &lt;code>T&lt;/code> is one of the return types in the following table:</p><table>
<tr>
<th><nobr>If the return type is...&#160;&#160;&#160;</nobr></th>
<th>The property value is interpreted as...</th>
<th>Annotation to use for default value</th>
</tr><tr>
<td><code>String</code></td>
<td>A plain string value</td>
<td>{@code @DefaultStringValue}</td>
</tr><tr>
<td><code>String[]</code></td>
<td>A comma-separated array of strings; use '<code>\\,</code>' to escape
commas</td>
<td>{@code @DefaultStringArrayValue}</td>
</tr><tr>
<td><code>int</code></td>
<td>An <code>int</code> value, checked during compilation</td>
<td>{@code @DefaultIntValue}</td>
</tr><tr>
<td><code>float</code></td>
<td>A <code>float</code> value, checked during compilation</td>
<td>{@code @DefaultFloatValue}</td>
</tr><tr>
<td><code>double</code></td>
<td>A <code>double</code> value, checked during compilation</td>
<td>{@code @DefaultDoubleValue}</td>
</tr><tr>
<td><code>boolean</code></td>
<td>A <code>boolean</code> value ("true" or "false"), checked during
compilation</td>
<td>{@code @DefaultBooleanValue}</td>
</tr><tr>
<td><code>Map</code></td>
<td>A comma-separated list of property names, each of which is a key into a
generated map; the value mapped to given key is the value of the property
having named by that key</td>
<td>{@code @DefaultStringMapValue}</td>
</tr>
<p>&lt;/table></p><p>
As an example of a <code>Map</code>, for the following property file:
</p><pre>
a = X
b = Y
c = Z
someMap = a, b, c
</pre><p>
the constant accessor <code>someMap()</code> would return a
<code>Map</code> that maps <code>"a"</code> onto <code>"X"</code>,
<code>"b"</code> onto <code>"Y"</code>, and <code>"c"</code> onto
<code>"Z"</code>. Iterating through this <code>Map</code> will return
the keys or entries in declaration order.
</p><p>The benefit of using annotations, aside from not having to switch to
a different file to enter the default values, is that you can make use
of compile-time constants and not worrying about quoting commas.  For example:
<p>{@example com.google.gwt.examples.i18n.AnnotConstants}
&lt;/p></p><h3>Binding to Properties Files</h3>
If an interface <code>org.example.foo.Intf</code> extends
<code>Constants</code> and the following code is used to create an object
from <code>Intf</code> as follows:<pre class="code">Intf constants = (Intf)GWT.create(Intf.class);</pre>
<p>then &lt;code>constants&lt;/code> will be assigned an instance of a generated
class whose constant accessors are implemented by extracting values from a
set of matching properties files. Property values are sought using a
best-match algorithm, and candidate properties files are those which (1)
reside in the same package as the interface (&lt;code>org/example/foo/&lt;/code>),
(2) have a base filename matching the interface name (&lt;code>Intf&lt;/code>),
and (3) have a suffix that most closely matches the locale. Suffixes are
matched as follows:</p><table><tr>
<th align='left'><nobr>If <code>locale</code> is...&#160;&#160;</nobr></th>
<th align='left'>The properties file that binds to
<code>org.example.foo.Intf</code> is...</th>
</tr><tr>
<td><i>unspecified</i></td>
<td><code>org/example/foo/Intf.properties</code></td>
</tr><tr>
<td><code>x</code></td>
<td><code>org/example/foo/Intf_x.properties</code> if it exists and
defines the property being sought, otherwise treated as if
<code>locale</code> were <i>unspecified</i></td>
</tr><tr>
<td><code>x_Y</code></td>
<td><code>org/example/foo/Intf_x_Y.properties</code> if it exists and
defines the property being sought, otherwise treated as if
<code>locale</code> were <code>x</code></td>
</tr>
<p>&lt;/table> where &lt;code>x&lt;/code> and &lt;code>Y&lt;/code> are language and locale
codes, as described in the documentation for
{@link com.google.gwt.i18n.client.Localizable}.  Note that default values
supplied in the source file in annotations take precedence over those in
the default properties file, if it is also present.</p><p>
Note that the matching algorithm is applied independently for each constant
accessor. It is therefore possible to create a hierarchy of related
properties files such that an unlocalized properties file acts as a baseline,
and locale-specific properties files may redefine a subset of those
properties, relying on the matching algorithm to prefer localized properties
while still finding unlocalized properties.
</p><h3>Required Module</h3>
Modules that use this interface should inherit
<code>com.google.gwt.i18n.I18N</code>.
<p>{@gwt.include com/google/gwt/examples/i18n/InheritsExample.gwt.xml}</p><h3>Note</h3>
You should not directly implement this interface or interfaces derived from
it since an implementation is generated automatically when message interfaces
are created using {@link com.google.gwt.core.client.GWT#create(Class)}.
<pre class="source">
abstract class Constants extends LocalizableResource {

}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_i18n/Localizable.html">Localizable</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_i18n/LocalizableResource.html">LocalizableResource</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>Constants</strong></span></p>
<h3>Subclasses</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_i18n/NumberConstantsImpl.html">NumberConstantsImpl</a></span></p>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-08-28 07:19:07.189</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
