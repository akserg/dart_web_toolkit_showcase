        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>ClosingHandlerRegistration class / dart_web_toolkit_place Library / API Reference / Dart Web Toolkit</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40672112-1']);
  _gaq.push(['_setDomainName', 'dartwebtoolkit.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
        <body data-library="dart_web_toolkit_place" data-type="ClosingHandlerRegistration">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">API Reference 0.3.12</a>
         &rsaquo; <a href="../dart_web_toolkit_place.html">dart_web_toolkit_place</a> &rsaquo; <a href="../dart_web_toolkit_place/ClosingHandlerRegistration.html">ClosingHandlerRegistration</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>ClosingHandlerRegistration</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Class wrapping window's before closing event in HandlerRegistration manner.</p>
<pre class="source">
class ClosingHandlerRegistration implements HandlerRegistration {
 
 ClosingHandler _handler;
 dart_async.StreamSubscription listener;
 
 ClosingHandlerRegistration(_handler) {
   listener = dart_html.window.onBeforeUnload.listen(_onData);
 }
 
 void _onData(dart_html.Event evt) {
   ClosingEvent event = new ClosingEvent();
   _handler.onWindowClosing(event);
 }
 
 /**
  * Deregisters the handler associated with this registration object if the
  * handler is still attached to the event source. If the handler is no longer
  * attached to the event source, this is a no-op.
  */
 void removeHandler() {
   listener.cancel();
 }
}
</pre>
</div>
<h3>Implements</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_event/HandlerRegistration.html">HandlerRegistration</a></span></p>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="ClosingHandlerRegistration">
<button class="show-code">Code</button>
new <strong>ClosingHandlerRegistration</strong>(_handler) <a class="anchor-link" href="#ClosingHandlerRegistration"
              title="Permalink to ClosingHandlerRegistration.ClosingHandlerRegistration">#</a></h4>
<div class="doc">
<pre class="source">
ClosingHandlerRegistration(_handler) {
 listener = dart_html.window.onBeforeUnload.listen(_onData);
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="listener">
<button class="show-code">Code</button>
StreamSubscription         <strong>listener</strong> <a class="anchor-link"
            href="#listener"
            title="Permalink to ClosingHandlerRegistration.listener">#</a>
        </h4>
        <div class="doc">
<pre class="source">
dart_async.StreamSubscription listener
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="removeHandler">
<button class="show-code">Code</button>
void <strong>removeHandler</strong>() <a class="anchor-link" href="#removeHandler"
              title="Permalink to ClosingHandlerRegistration.removeHandler">#</a></h4>
<div class="doc">
<p>Deregisters the handler associated with this registration object if the
handler is still attached to the event source. If the handler is no longer
attached to the event source, this is a no-op.</p>
<pre class="source">
void removeHandler() {
 listener.cancel();
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-05-30 09:14:44.220</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
