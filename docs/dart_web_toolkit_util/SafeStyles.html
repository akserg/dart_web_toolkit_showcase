        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>SafeStyles abstract class / dart_web_toolkit_util Library / API Reference / Dart Web Toolkit</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40672112-1']);
  _gaq.push(['_setDomainName', 'dartwebtoolkit.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
        <body data-library="dart_web_toolkit_util" data-type="SafeStyles">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">API Reference 0.3.12</a>
         &rsaquo; <a href="../dart_web_toolkit_util.html">dart_web_toolkit_util</a> &rsaquo; <a href="../dart_web_toolkit_util/SafeStyles.html">SafeStyles</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>SafeStyles</strong>
          abstract class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>An object that implements this interface encapsulates zero or more CSS
properties that are guaranteed to be safe to use (with respect to potential
Cross-Site-Scripting vulnerabilities) in a CSS (Cascading Style Sheet)
attribute context. A CSS attribute context can be inside of a CSS rule in a
{@code style} element, or inside the {@code style} attribute of a DOM
element.</p><p>
Note on usage: {@link SafeStyles} should be used to ensure user input is not
executed in the browser. {@link SafeStyles} should not be used to sanitize
input before sending it to the server: The server cannot rely on the type
contract of {@link SafeStyles} values received from clients, because a
malicious client could provide maliciously crafted serialized forms of
implementations of this type that violate the type contract.<p>
All implementing classes must maintain the class invariant (by design and
implementation and/or convention of use), that invoking {@link #asString()}
on any instance will return a string that is safe to assign to a CSS
attribute in a browser, in the sense that doing so must not cause execution
of script in the browser. Generally, {@link SafeStyles} should be of the form
{@code cssPropertyName:value;}, where neither the name nor the value contain
malicious scripts.<p>
{@link SafeStyles} may never contain literal angle brackets. Otherwise, it
could be unsafe to place a {@link SafeStyles} into a &lt;style&gt; tag (where
it can't be HTML escaped). For example, if the {@link SafeStyles} containing
"<code>font: 'foo &lt;style&gt;&lt;script&gt;evil&lt;/script&gt;</code>'" is
used in a style sheet in a &lt;style&gt; tag, this could then break out of
the style context into HTML.<p>
{@link SafeStyles} may contain literal single or double quotes, and as such
the entire style string must be escaped when used in a style attribute (if
this were not the case, the string could contain a matching quote that would
escape from the style attribute).<p>
Furthermore, values of this type must be composable, i.e. for any two values
{@code A} and {@code B} of this type, {@code A.asString() + B.asString()}
must itself be a value that satisfies the {@link SafeStyles} type constraint.
This requirement implies that for any value {@code A} of this type,
{@code A.asString()} must not end in a "CSS value" or "CSS name" context. For
example, a value of {@code background:url("} or {@code font-} would not
satisfy the {@link SafeStyles} contract. This is because concatenating such
strings with a second value that itself does not contain unsafe CSS can
result in an overall string that does. For example, if
{@code javascript:evil())"} is appended to {@code background:url("}, the
resulting string may result in the execution of a malicious script.<p>
The following example values comply with this type's contract:
<ul>
<li><code>width: 1em;</code></li>
<li><code>height:1em;</code></li>
<li><code>width: 1em;height: 1em;</code></li>
<li><code>background:url('http://url');</code></li>
</ul>
In addition, the empty string is safe for use in a CSS attribute.<p>
The following example values do <em>not</em> comply with this type's contract:
<ul>
<li><code>background: red</code> (missing a trailing semi-colon)</li>
<li><code>background:</code> (missing a value and a trailing semi-colon)</li>
<li><code>1em</code> (missing an attribute name, which provides context for the value)</li>
</ul><p>
All implementations must implement equals() and hashCode() to behave
consistently with the result of asString().equals() and asString.hashCode().<p>
Implementations must not return {@code null} from {@link #asString()}.
<pre class="source">
abstract class SafeStyles {
 /*
  * Notes regarding serialization:
  * 
  * - It may be reasonable to allow deserialization on the client of objects
  * serialized on the server (i.e. RPC responses), based on the assumption that
  * server code is trusted and would not provide a malicious serialized form
  * (if a MitM were able to modify server responses, the client would be fully
  * compromised in any case). However, the GWT RPC framework currently does not
  * seem to provide a facility for restricting deserialization on the Server
  * only (though this shouldn't be difficult to implement through a custom
  * SerializationPolicy)
  * 
  * - Some implementations of SafeStyles would in principle be able to enforce
  * their class invariant on deserialization. However, the GWT RPC framework
  * does not provide for an equivalent of readResolve() to enforce the class
  * invariant on deserialization.
  */

 /**
  * Returns this object's contained CSS as a string.
  * 
  * &lt;p&gt;
  * Based on this class' contract, the returned value will be non-null and a
  * string that is safe to use in an CSS attribute context.
  * 
  * @return the contents as a String
  */
 String asString();

 /**
  * Compares this string to the specified object. Must be equal to
  * asString().equals().
  * 
  * @param anObject the object to compare to
  */
 bool operator ==(Object anObject);
//
//  /**
//   * Returns a hash code for this string. Must be equal to
//   * asString().hashCode().
//   */
//  int hashCode();
}
</pre>
</div>
<h3>Subclasses</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_util/SafeStylesString.html">SafeStylesString</a></span></p>
<div>
<h3>Operators</h3>
<div class="method"><h4 id="==">
abstract bool <strong>operator ==</strong>(Object anObject) <a class="anchor-link" href="#=="
              title="Permalink to SafeStyles.operator ==">#</a></h4>
<div class="doc">
<p>Compares this string to the specified object. Must be equal to
asString().equals().</p>
<p>@param anObject the object to compare to</p>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="asString">
abstract String <strong>asString</strong>() <a class="anchor-link" href="#asString"
              title="Permalink to SafeStyles.asString">#</a></h4>
<div class="doc">
<p>Returns this object's contained CSS as a string.</p><p>
Based on this class' contract, the returned value will be non-null and a
string that is safe to use in an CSS attribute context.
<p>@return the contents as a String</p>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-05-30 09:14:51.360</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
