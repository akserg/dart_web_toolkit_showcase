        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>SafeHtml abstract class / dart_web_toolkit_util Library / API Reference / Dart Web Toolkit</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-40672112-1']);
  _gaq.push(['_setDomainName', 'dartwebtoolkit.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
        <body data-library="dart_web_toolkit_util" data-type="SafeHtml">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">API Reference 0.3.22</a>
         &rsaquo; <a href="../dart_web_toolkit_util.html">dart_web_toolkit_util</a> &rsaquo; <a href="../dart_web_toolkit_util/SafeHtml.html">SafeHtml</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>SafeHtml</strong>
          abstract class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>An object that implements this interface encapsulates HTML that is guaranteed
to be safe to use (with respect to potential Cross-Site-Scripting
vulnerabilities) in an HTML context.</p><p>
Note on usage: SafeHtml should be used to ensure user input is not executed
in the browser. SafeHtml should not be used to sanitize input before sending
it to the server: The server cannot rely on the type contract of SafeHtml
values received from clients, because a malicious client could provide
maliciously crafted serialized forms of implementations of this type that
violate the type contract.<p>
All implementing classes must maintain the class invariant (by design and
implementation and/or convention of use), that invoking {@link #asString()}
on any instance will return a string that is safe to assign to the {@code
.innerHTML} DOM property in a browser (or to use similarly in an "inner HTML"
context), in the sense that doing so must not cause execution of script in
the browser.<p>
Furthermore, values of this type must be composable, i.e. for any two values
{@code A} and {@code B} of this type, {@code A.asString() + B.asString()}
must itself be a value that satisfies the SafeHtml type constraint. This
requirement implies that for any value {@code A} of this type, if {@code
A.asString()} includes HTML markup, the string must end in an "inner HTML"
context and not inside a tag or attribute. For example, a value of {@code
<div style="} or {@code <img src="} would not satisfy the SafeHtml contract.
This is because concatenating such strings with a second value that itself
does not contain script-executing HTML markup can result in an overall string
that does. For example, if {@code javascript:malicious()">} is appended to
{@code <img src="}, the resulting string may result in script execution.<p>
All implementations must implement equals() and hashCode() to behave
consistently with the result of asString().equals() and asString.hashCode().<p>
Implementations must not return {@code null} from {@link #asString()}.
<pre class="source">
abstract class SafeHtml {
 /*
  * Notes regarding serialization:
  *
  * - It may be reasonable to allow deserialization on the client of objects
  * serialized on the server (i.e. RPC responses), based on the assumption that
  * server code is trusted and would not provide a malicious serialized form
  * (if a MitM were able to modify server responses, the client would be fully
  * compromised in any case). However, the GWT RPC framework currently does not
  * seem to provide a facility for restricting deserialization on the Server
  * only (though this shouldn't be difficult to implement through a custom
  * SerializationPolicy)
  *
  * - Some implementations of SafeHtml would in principle be able to enforce
  * their class invariant on deserialization (e.g., SimpleHtmlSanitizer could
  * apply HTML sanitization on deserialization). However, the GWT RPC framework
  * does not provide for an equivalent of readResolve() to enforce the class
  * invariant on deserialization.
  */

 /**
  * Returns this object's contained HTML as a string.
  *
  * &lt;p&gt;
  * Based on this class' contract, the returned value will be non-null and a
  * string that is safe to use in an HTML context.
  *
  * @return the contents as a String
  */
 String asString();

 /**
  * Compares this string to the specified object.
  * Must be equal to asString().equals().
  *
  * @param anObject the object to compare to
  */
 bool operator ==(Object obj);

 /**
  * Returns a hash code for this string.
  * Must be equal to asString().hashCode().
  */
 int get hashCode;
}
</pre>
</div>
<h3>Subclasses</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_web_toolkit_util/SafeHtmlString.html">SafeHtmlString</a></span></p>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="hashCode">
<button class="show-code">Code</button>
final int         <strong>hashCode</strong> <a class="anchor-link"
            href="#hashCode"
            title="Permalink to SafeHtml.hashCode">#</a>
        </h4>
        <div class="doc">
<p>Returns a hash code for this string.
Must be equal to asString().hashCode().</p>
<pre class="source">
int get hashCode;
</pre>
</div>
</div>
</div>
<div>
<h3>Operators</h3>
<div class="method"><h4 id="==">
abstract bool <strong>operator ==</strong>(Object obj) <a class="anchor-link" href="#=="
              title="Permalink to SafeHtml.operator ==">#</a></h4>
<div class="doc">
<p>Compares this string to the specified object.
Must be equal to asString().equals().</p>
<p>@param anObject the object to compare to</p>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="asString">
abstract String <strong>asString</strong>() <a class="anchor-link" href="#asString"
              title="Permalink to SafeHtml.asString">#</a></h4>
<div class="doc">
<p>Returns this object's contained HTML as a string.</p><p>
Based on this class' contract, the returned value will be non-null and a
string that is safe to use in an HTML context.
<p>@return the contents as a String</p>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-09-15 10:39:31.968</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
